<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <link rel="icon" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Material+Icons&display=block"
    />

    <script src="./lib/Tone.js"></script>
    <script src="./lib/tone-ui.js"></script>
    <script src="./lib/components.js"></script>

    <style>
      #content {
        max-width: 1000px;
        margin: auto;
      }

      #buttons > * {
        margin-right: 10px;
      }
    </style>
  </head>
  <body>
    <div id="content">
      <tone-play-toggle></tone-play-toggle>
      <tone-slider
        label="Tempo"
        units="bpm"
        min="60"
        max="240"
        value="240"
      ></tone-slider>
      <div id="buttons">
        <button id="clear">Clear</button>
        <label for="evolve">
          <input type="checkbox" id="evolve" checked />Evolve</label
        >
        <label for="evolve-every">
          Evolve every
          <select id="evolve-every" value="16">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="8" selected>8</option>
            <option value="16">16</option>
            <option value="32">32</option>
            <option value="64">64</option>
          </select>
          steps
        </label>
        <label for="metronome">
          <input type="checkbox" id="metronome" checked />Metronome</label
        >
        <label for="patterns-select"
          >Load Pattern:
          <select id="patterns-select">
            <option value="">Select a pattern</option>
          </select>
        </label>
        <input type="button" id="log-pattern" value="Log current pattern" />
      </div>
      <tone-step-sequencer rows="12"></tone-step-sequencer>
      <p>
        -- Game of Life sequencer --<br /><br />
        This is a step sequencer that uses the algorithm of
        <a
          target="_blank"
          href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"
          >John Conway's Game of Life</a
        >
        to generate evolving patterns.<br />
        The top four rows are a sawtooth synth, the middle four are drum
        samples and the bottom four are a sine synth.<br />
        Clicking on cells will toggle their state, allowing to make live changes
        to the sequence.<br /><br />
        At first glance it might sound pretty random, but after some playing
        around I find it interesting to listen to "natural" developments.<br />
        For example, sometimes periods of calmness or minimal percussion will
        start. Other times the whole "song" will die out on its own.<br />
        Often, there will be gradual changes of melody or beat where you can
        hear existing patterns repeating but slowly changing with every new bar.
        This is especially noticeable with longer evolve intervals (16 and
        above).<br /><br />

        Made by Gilad Mayani.<br />
        The sequencer was made with the
        <a target="_blank" href="https://tonejs.github.io/">Tone.js</a>
        framework, also using
        <a target="_blank" href="https://github.com/Tonejs/ui/">Tone.js UI</a>
        components and some
        <a target="_blank" href="https://github.com/Tonejs/audio"
          >audio samples</a
        >
        from their examples.<br />
        Source code is available on
        <a target="_blank" href="https://github.com/gilad905/life-sequencer"
          >GitHub</a
        >.
      </p>
    </div>

    <script src="./utils.js"></script>
    <script src="./patterns.js"></script>
    <script src="./pattern-loader.js"></script>
    <script src="./gol.js"></script>
    <script src="./main.js"></script>
  </body>
</html>
